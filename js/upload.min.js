"use strict";function uploadFile(e){var t=new FormData;t.append("audioclip",e);var a=new XMLHttpRequest;a.onprogress=function(e){var t=document.getElementById("upload-progress-bar"),a=t.getElementsByClassName("progress-bar")[0];t.style.display="block",a.style.width=100*Math.round(e.loaded/e.total)+"%"},a.onreadystatechange=function(){4===this.readyState&&200===this.status&&(document.getElementById("audio-uploaded").classList.add("loaded"),document.getElementById("bt-analyze").removeAttribute("disabled"),alert("Uploaded Successfully"))},a.open("POST","./save.php"),a.send(t)}function requestTranscript(){alert("request received")}var lock=!1;window.onbeforeunload=function(e){if(lock)return e||window.event,""},document.addEventListener("DOMContentLoaded",function(){var e=function(e,t){e.stopPropagation(),e.preventDefault(),t?e.target.classList.add("wavesurfer-dragover"):e.target.classList.remove("wavesurfer-dragover")},t={drop:function(t){e(t,!1),1==t.dataTransfer.files.length?(lock=!0,/audio/i.test(t.dataTransfer.files[0].type)?uploadFile(t.dataTransfer.files[0]):alert("Please drop a valid audio file.")):alert("Please drop 1 file at a time")},dragover:function(t){e(t,!0)},dragleave:function(t){e(t,!1)}},a=document.querySelector("#drop");Object.keys(t).forEach(function(e){a.addEventListener(e,t[e])})});